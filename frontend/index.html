<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Thompson Custom Building Group - Luxury Home Estimator</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
<style>
    body { font-family: 'Playfair Display', serif; background: #f5f5f5; color: #1a1a1a; margin: 0; padding: 0; }
    header { background: #0a2540; color: gold; text-align: center; padding: 2rem 1rem; font-size: 2rem; }
    .container { max-width: 900px; margin: 2rem auto; background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); }
    .section { margin-bottom: 2rem; }
    label { display: block; margin-top: 1rem; font-weight: bold; }
    input, select { width: 100%; padding: 0.5rem; margin-top: 0.5rem; border-radius: 6px; border: 1px solid #ccc; }
    button { background: gold; color: #0a2540; border: none; padding: 0.8rem 2rem; font-size: 1rem; border-radius: 8px; cursor: pointer; transition: 0.3s; margin-top: 1rem; }
    button:hover { background: #e6c200; }
    #estimateResult { font-size: 1.5rem; margin-top: 1rem; text-align: center; color: #0a2540; font-weight: bold; }
    .optional { font-weight: normal; font-size: 0.9rem; color: #555; }
</style>
</head>
<body>

<header>Thompson Custom Building Group - Charlotte Luxury Home Estimator</header>

<div class="container">

    <div class="section">
        <label>Square Feet</label>
        <input type="number" id="squareFeet" placeholder="Enter square feet">

        <label>Bedrooms</label>
        <input type="number" id="bedrooms" min="1" max="10">

        <label>Bathrooms</label>
        <input type="number" id="bathrooms" min="1" max="10">
    </div>

    <div class="section">
        <label>Home Style</label>
        <select id="homeStyle">
            <option>Modern</option>
            <option>Colonial</option>
            <option>Craftsman</option>
        </select>

        <label>Neighborhood</label>
        <select id="neighborhood">
            <option>Eastover</option>
            <option>Foxcroft</option>
            <option>Myers Park</option>
        </select>
    </div>

    <div class="section">
        <label>Garage</label>
        <select id="garage">
            <option>Attached</option>
            <option>Detached</option>
            <option>Carport</option>
        </select>

        <label>Basement</label>
        <input type="checkbox" id="basement"> Optional

        <label>Smart Home</label>
        <select id="smartHome">
            <option>None</option>
            <option>Partial</option>
            <option>Full</option>
        </select>
    </div>

    <div class="section">
        <label>Pool</label>
        <input type="checkbox" id="pool" onchange="togglePoolType()"> Yes

        <div id="poolTypeDiv" style="display:none;">
            <label>Pool Type</label>
            <select id="poolType">
                <option>Standard</option>
                <option>Lap</option>
                <option>Infinity</option>
            </select>
        </div>

        <label>Wine Cellar</label>
        <input type="checkbox" id="wineCellar"> Optional

        <label>Gym</label>
        <input type="checkbox" id="gym"> Optional

        <label>Elevator</label>
        <input type="checkbox" id="elevator"> Optional

        <label>Landscaping</label>
        <select id="landscaping">
            <option>Minimal</option>
            <option>Full</option>
        </select>
    </div>

    <button id="getEstimateBtn">Get Estimate</button>

    <p id="estimateResult"></p>
</div>

<script>
function togglePoolType(){
    const poolDiv = document.getElementById("poolTypeDiv");
    poolDiv.style.display = document.getElementById("pool").checked ? "block" : "none";
}

document.getElementById("getEstimateBtn").addEventListener("click", async () => {
    const payload = {
        squareFeet: parseInt(document.getElementById("squareFeet").value),
        bedrooms: parseInt(document.getElementById("bedrooms").value),
        bathrooms: parseInt(document.getElementById("bathrooms").value),
        homeStyle: document.getElementById("homeStyle").value,
        neighborhood: document.getElementById("neighborhood").value,
        pool: document.getElementById("pool").checked,
        poolType: document.getElementById("poolType").value,
        garage: document.getElementById("garage").value,
        basement: document.getElementById("basement").checked,
        smartHome: document.getElementById("smartHome").value,
        wineCellar: document.getElementById("wineCellar").checked,
        gym: document.getElementById("gym").checked,
        elevator: document.getElementById("elevator").checked,
        landscaping: document.getElementById("landscaping").value
    };

    const response = await fetch("/estimate", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify(payload)
    });

    const data = await response.json();
    document.getElementById("estimateResult").innerText = `Estimated Cost: $${data.estimate.toLocaleString()}`;
});
</script>

</body>
</html>
