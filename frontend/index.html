<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Luxury Home Estimator - Thompson Custom Building Group</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto&display=swap" rel="stylesheet">
<style>
body { font-family: 'Roboto', sans-serif; background: #f5f5f5; margin:0; padding:0;}
header { text-align:center; background:#001f3f; color:#FFD700; padding:30px; }
header h1 { font-family:'Playfair Display', serif; font-size:2.5em; margin:0; }
header h2 { font-size:1.2em; margin:5px 0; }
.container { max-width:900px; margin:20px auto; padding:20px; }
.card { background:#fff; border-radius:10px; box-shadow:0 4px 15px rgba(0,0,0,0.2); padding:20px; margin-bottom:20px; }
.card h3 { color:#001f3f; margin-top:0; }
form label { display:block; margin-top:10px; font-weight:bold; }
form input, form select { width:100%; padding:10px; margin-top:5px; border-radius:5px; border:1px solid #ccc; }
button { padding:12px 25px; background:#001f3f; color:#FFD700; font-size:1em; border:none; border-radius:5px; cursor:pointer; margin-top:15px; transition:0.3s; }
button:hover { background:#002a66; }
#estimate { margin-top:20px; font-size:1.5em; color:#001f3f; font-weight:bold; }
.toggle-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(80px,1fr)); gap:10px; margin-top:5px; }
.toggle-grid button { padding:10px; font-weight:bold; border:1px solid #001f3f; background:#fff; color:#001f3f; border-radius:5px; transition:0.3s; }
.toggle-grid button.active, .toggle-grid button:hover { background:#001f3f; color:#FFD700; }
</style>
</head>
<body>

<header>
<h1>Thompson Custom Building Group</h1>
<h2>Luxury Home Estimator - Charlotte, NC</h2>
</header>

<div class="container">
<!-- Neighborhoods -->
<div class="card">
<h3>Choose Your Neighborhood</h3>
<ul>
<li>Eastover - Builder: Thompson Custom Building Group</li>
<li>Foxcroft - Builder: Thompson Custom Building Group</li>
<li>Myers Park - Builder: Thompson Custom Building Group</li>
</ul>
</div>

<form id="estimateForm">
<!-- General Info -->
<div class="card">
<h3>General Info</h3>
<label>Square Footage: <input type="number" name="sqft" required></label>
<label>Bedrooms: <input type="number" name="bedrooms" required></label>
<label>Bathrooms: <input type="number" name="bathrooms" required></label>
<label>Garage Spaces: <input type="number" name="garage" required></label>
</div>

<!-- Luxury Features -->
<div class="card">
<h3>Luxury Features</h3>
<label>Pool:
<select name="pool"><option value="Yes">Yes</option><option value="No">No</option></select></label>
<label>Spa:
<select name="spa"><option value="Yes">Yes</option><option value="No">No</option></select></label>
<label>Theater:
<select name="theater"><option value="Yes">Yes</option><option value="No">No</option></select></label>
<label>Elevator:
<select name="elevator"><option value="Yes">Yes</option><option value="No">No</option></select></label>
<label>Wine Cellar:
<select name="wine_cellar"><option value="Yes">Yes</option><option value="No">No</option></select></label>
<label>Outdoor Kitchen:
<select name="outdoor_kitchen"><option value="Yes">Yes</option><option value="No">No</option></select></label>
</div>

<!-- Kitchen & Interiors -->
<div class="card">
<h3>Kitchen & Interiors</h3>
<label>Kitchen Type:
<select name="kitchen"><option value="Standard">Standard</option><option value="Premium">Premium</option></select></label>
<label>Flooring:
<select name="flooring"><option value="Carpet">Carpet</option><option value="Hardwood">Hardwood</option></select></label>
<label>Cabinetry:
<select name="cabinetry"><option value="Standard">Standard</option><option value="Custom">Custom</option></select></label>
<label>Countertops:
<select name="countertops"><option value="Granite">Granite</option><option value="Quartz">Quartz</option></select></label>
</div>

<button type="submit">Get Estimate</button>
</form>

<div id="estimate"></div>
</div>

<script>
document.getElementById("estimateForm").addEventListener("submit", async (e) => {
    e.preventDefault();
    const formData = new FormData(e.target);
    const data = Object.fromEntries(formData.entries());

    const response = await fetch("/estimate", {
        method: "POST",
        headers: {"Content-Type":"application/json"},
        body: JSON.stringify(data)
    });
    const result = await response.json();
    let html = `<h3>Estimated Cost: ${result.total_estimate}</h3>`;
    html += `<ul>`;
    for (let key in result) {
        if(key !== "total_estimate") html += `<li><strong>${key.replace(/_/g," ")}</strong>: ${result[key]}</li>`;
    }
    html += `</ul>`;
    document.getElementById("estimate").innerHTML = html;
});
</script>
</body>
</html>
